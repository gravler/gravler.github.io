(this["webpackJsonpredux-sandbox"]=this["webpackJsonpredux-sandbox"]||[]).push([[0],{29:function(e,t,a){e.exports=a(49)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),l=a.n(r),o=a(8),i=a(16),s=a(7),u=a(10),m={goodsList:[{id:0,title:"Eloquent JavaScript",author:"Marijn Haverbeke",price:25,src:"https://eloquentjavascript.net/img/cover.jpg"},{id:1,title:"CLR via C#",author:"Jeffrey Richter",price:59,src:"https://cdn1.ozone.ru/multimedia/c500/1007028713.jpg"},{id:2,title:"Learning React: Functional Web Development with React and Redux",author:"Alex Banks, Eve Porcello",price:39,src:"https://images-na.ssl-images-amazon.com/images/I/7169mYAhsmL._AC_UL600_SR456,600_.jpg"},{id:3,title:"You Don't Know JS: Scope & Closures",author:"Kyle Simpson",price:20,src:"https://cv01.twirpx.net/1519/1519642.jpg?t=20141023202345"},{id:4,title:"CSS: The Missing Manual",author:"David Sawyer McFarland",price:25,src:"https://images-na.ssl-images-amazon.com/images/I/81qLG+SyGfL.jpg"}],cart:[],totalPrice:0},d=function(e,t,a){var n=e.goodsList,c=e.cart,r=n.find((function(e){return e.id===t})),l=c.findIndex((function(e){return e.id===t})),o=function(e,t,a){return-1===a?[].concat(Object(u.a)(e),[t]):t.count<1?[].concat(Object(u.a)(e.slice(0,a)),Object(u.a)(e.slice(a+1))):[].concat(Object(u.a)(e.slice(0,a)),[t],Object(u.a)(e.slice(a+1)))}(c,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=t.id,c=void 0===n?e.id:n,r=t.title,l=void 0===r?e.title:r,o=t.price,i=void 0===o?e.price:o,s=t.count,u=void 0===s?0:s,m=t.total,d=void 0===m?0:m;return{id:c,title:l,price:i,count:u+a,total:d+i*a}}(r,c[l],a),l);return Object(s.a)(Object(s.a)({},e),{},{cart:o,totalPrice:o.reduce((function(e,t){return e+t.total}),0)})},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"INC_COUNT":return d(e,n,1);case"DEC_COUNT":return d(e,n,-1);case"REMOVE_ITEM":var c=e.cart.find((function(e){return e.id===n}));return d(e,n,-c.count);case"CLEAR_CART":case"BUY_ITEMS":return Object(s.a)(Object(s.a)({},e),{},{goodsList:e.goodsList.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{inCart:!1})})),cart:[]});default:return e}},f=Object(i.b)(E),p=(a(38),a(39),a(40),function(e){var t=e.title,a=e.author,n=e.price,r=e.inCart,l=e.src,o=e.addToCart;return c.a.createElement("div",{className:"GoodsListItem card bg-light mt-3"},c.a.createElement("div",{className:"card-body row"},c.a.createElement("div",{className:"col-md-3 col-sm-4 col-12"},c.a.createElement("div",{className:"GoodsListItemImage text-center"},c.a.createElement("img",{src:l,alt:"Eloquent javascript"}))),c.a.createElement("div",{className:"col-md-9 col-sm-8 col-12 mt-3 mt-sm-0"},c.a.createElement("div",{className:"GoodsTitle"},c.a.createElement("h4",null,t),c.a.createElement("small",null,a),c.a.createElement("hr",null)),c.a.createElement("div",{className:"GoodsPrice mt-3"},c.a.createElement("div",{className:"d-inline-flex flex-column"},c.a.createElement("b",null,"$",n),r?c.a.createElement("button",{className:"btn btn-danger",onClick:o},"Remove from cart"):c.a.createElement("button",{className:"btn btn-primary",onClick:o},"Add to cart"))))))}),b=function(e){return{type:"INC_COUNT",payload:e}},v=function(){var e=Object(o.c)((function(e){return e})).goodsList,t=Object(o.b)();return c.a.createElement("div",{className:"GoodsList"},e.map((function(e){var a=e.id,n=e.title,r=e.author,l=e.price,o=e.inCart,i=e.src;return c.a.createElement(p,{key:a,id:a,title:n,author:r,price:l,inCart:o,src:i,addToCart:function(){return t(b(a))}})})))},h=(a(41),a(11)),C=function(){var e=Object(o.c)((function(e){return e.cart}));return c.a.createElement("div",{className:"CartIcon"},c.a.createElement("div",{className:"CartIconContainer"},c.a.createElement(h.b,{to:"/cart"},c.a.createElement("i",{className:"fa fa-shopping-cart"})),e.length?c.a.createElement("div",{className:"CartIconCount"},c.a.createElement("span",null,e.length)):null))},g=(a(43),a(44),function(e){var t=e.title,a=e.price,n=e.count,r=e.total,l=e.onInc,o=e.onDec,i=e.onRemove;return c.a.createElement("tr",{className:"CartItem"},c.a.createElement("td",{title:t},c.a.createElement("p",null,t)),c.a.createElement("td",null,"$",a),c.a.createElement("td",null,c.a.createElement("button",{className:"btn btn-outline-secondary count-button",onClick:o},c.a.createElement("i",{className:"fa fa-minus"})),n,c.a.createElement("button",{className:"btn btn-outline-secondary count-button",onClick:l},c.a.createElement("i",{className:"fa fa-plus"}))),c.a.createElement("td",null,"$",r),c.a.createElement("td",null,c.a.createElement("button",{className:"btn btn-outline-danger remove-button",onClick:i},c.a.createElement("i",{className:"fa fa-trash"}))))}),N=a(21),y=a.n(N),j=function(){var e=Object(o.c)((function(e){return{cart:e.cart,totalPrice:e.totalPrice}})),t=e.cart,a=e.totalPrice,n=Object(o.b)();return t.length?c.a.createElement("div",{className:"Cart"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"Title"),c.a.createElement("th",{scope:"col"},"Price"),c.a.createElement("th",{scope:"col"},"Count"),c.a.createElement("th",{scope:"col"},"Total"),c.a.createElement("th",{scope:"col"},"Remove"))),c.a.createElement("tbody",null,t.map((function(e){var t=e.id,a=e.title,r=e.price,l=e.count,o=e.total;return c.a.createElement(g,{key:t,title:a,price:r,count:l,total:o,onInc:function(){return n(b(t))},onDec:function(){return n(function(e){return{type:"DEC_COUNT",payload:e}}(t))},onRemove:function(){return n(function(e){return{type:"REMOVE_ITEM",payload:e}}(t))}})})))),c.a.createElement("div",{className:"CartBottom"},c.a.createElement("div",{className:"CartButtons"},c.a.createElement("button",{className:"btn btn-success",onClick:function(){y()({title:"Are you sure?",icon:"info",buttons:!0}).then((function(e){return e?n({type:"BUY_ITEMS"}):null}))}},"Buy"),c.a.createElement("button",{className:"btn btn-danger",onClick:function(){y()({title:"Are you sure?",icon:"warning",buttons:!0}).then((function(e){return e?n({type:"CLEAR_CART"}):null}))}},"Clear")),c.a.createElement("h4",null,"Total price: $",a))):c.a.createElement("h2",{className:"text-center"},"Cart is empty!")},O=a(2),I=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(C,null),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement(O.a,{path:"/",render:function(){return c.a.createElement("div",{className:"col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 col-12"},c.a.createElement(v,null))},exact:!0}),c.a.createElement(O.a,{path:"/cart",render:function(){return c.a.createElement("div",{className:"col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 col-12"},c.a.createElement(j,null))}}))))},x=a(25),T=a(26),L=a(28),R=a(27),k=(a(47),a(48),function(){return c.a.createElement("div",{className:"ErrorIndicator"},c.a.createElement("h3",null,"Error!"))}),_=function(e){Object(L.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(T.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?c.a.createElement(k,null):this.props.children}}]),a}(n.Component);l.a.render(c.a.createElement(_,null,c.a.createElement(o.a,{store:f},c.a.createElement(h.a,null,c.a.createElement(I,null)))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.35805d66.chunk.js.map